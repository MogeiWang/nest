<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>NEST: hashtable-common.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">NEST
   &#160;<span id="projectnumber">2.6.0,not_revisioned_source_dir@0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_75b82e7e4a5feb05200b9ad7adf06257.html">home</a></li><li class="navelem"><a class="el" href="dir_4d53273bc208cfd89b98c2cc1b4edfde.html">ixaxaar</a></li><li class="navelem"><a class="el" href="dir_15212f8b904b69ee499d954e142291e0.html">src</a></li><li class="navelem"><a class="el" href="dir_f7cc92c596821b9e5871bd942e22e6d3.html">nest</a></li><li class="navelem"><a class="el" href="dir_68231e65cc0b01e8800aeb41649c145a.html">libnestutil</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">hashtable-common.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="hashtable-common_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Copyright (c) 2010, Google Inc.</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// All rights reserved.</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// Redistribution and use in source and binary forms, with or without</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// modification, are permitted provided that the following conditions are</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// met:</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//     * Redistributions of source code must retain the above copyright</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// notice, this list of conditions and the following disclaimer.</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">//     * Redistributions in binary form must reproduce the above</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// copyright notice, this list of conditions and the following disclaimer</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">// in the documentation and/or other materials provided with the</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">// distribution.</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">//     * Neither the name of Google Inc. nor the names of its</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">// contributors may be used to endorse or promote products derived from</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">// this software without specific prior written permission.</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">// &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">// ---</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">// Provides classes shared by both sparse and dense hashtable.</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">// sh_hashtable_settings has parameters for growing and shrinking</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">// a hashtable.  It also packages zero-size functor (ie. hasher).</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">// Other functions and classes provide common code for serializing</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">// and deserializing hashtables to a stream (such as a FILE*).</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#ifndef UTIL_GTL_HASHTABLE_COMMON_H_</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#define UTIL_GTL_HASHTABLE_COMMON_H_</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="sparseconfig_8h.html">sparseconfig.h</a>&gt;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &lt;assert.h&gt;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &lt;stddef.h&gt;</span>                  <span class="comment">// for size_t</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &lt;iosfwd&gt;</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &lt;stdexcept&gt;</span>                 <span class="comment">// For length_error</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">/* If we&#39;re not using GNU C, elide __attribute__ */</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#ifndef __GNUC__</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#  define  __attribute__(x)  </span><span class="comment">/*NOTHING*/</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;_START_GOOGLE_NAMESPACE_</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="structSparsehashCompileAssert.html">   57</a></span>&#160;<span class="keyword">template</span> &lt;<span class="keywordtype">bool</span>&gt; <span class="keyword">struct </span><a class="code" href="structSparsehashCompileAssert.html">SparsehashCompileAssert</a> { };</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">#define SPARSEHASH_COMPILE_ASSERT(expr, msg) \</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor">  typedef SparsehashCompileAssert&lt;(bool(expr))&gt; msg[bool(expr) ? 1 : -1] \</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor">       __attribute__((unused))</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="namespacesparsehash__internal.html">   62</a></span>&#160;<span class="keyword">namespace </span>sparsehash_internal {</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment">// Adaptor methods for reading/writing data from an INPUT or OUPTUT</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment">// variable passed to serialize() or unserialize().  For now we</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">// have implemented INPUT/OUTPUT for FILE*, istream*/ostream* (note</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment">// they are pointers, unlike typical use), or else a pointer to</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment">// something that supports a Read()/Write() method.</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment">// For technical reasons, we implement read_data/write_data in two</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">// stages.  The actual work is done in *_data_internal, which takes</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment">// the stream argument twice: once as a template type, and once with</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment">// normal type information.  (We only use the second version.)  We do</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment">// this because of how C++ picks what function overload to use.  If we</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment">// implemented this the naive way:</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment">//    bool read_data(istream* is, const void* data, size_t length);</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment">//    template&lt;typename T&gt; read_data(T* fp,  const void* data, size_t length);</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment">// C++ would prefer the second version for every stream type except</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment">// istream.  However, we want C++ to prefer the first version for</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment">// streams that are *subclasses* of istream, such as istringstream.</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">// This is not possible given the way template types are resolved.  So</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment">// we split the stream argument in two, one of which is templated and</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">// one of which is not.  The specialized functions (like the istream</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment">// version above) ignore the template arg and use the second, &#39;type&#39;</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment">// arg, getting subclass matching as normal.  The &#39;catch-all&#39;</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment">// functions (the second version above) use the template arg to deduce</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">// the type, and use a second, void* arg to achieve the desired</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">// &#39;catch-all&#39; semantics.</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment">// ----- low-level I/O for FILE* ----</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> Ignored&gt;</div>
<div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="namespacesparsehash__internal.html#affd716d2f4da7c5d82a9c6dcd562839f">   93</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="namespacesparsehash__internal.html#affd716d2f4da7c5d82a9c6dcd562839f">read_data_internal</a>(Ignored*, FILE* fp,</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                               <span class="keywordtype">void</span>* data, <span class="keywordtype">size_t</span> length) {</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <span class="keywordflow">return</span> fread(data, length, 1, fp) == 1;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;}</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> Ignored&gt;</div>
<div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="namespacesparsehash__internal.html#ad97434f8480d5026f086a3dd138ffbc4">   99</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="namespacesparsehash__internal.html#ad97434f8480d5026f086a3dd138ffbc4">write_data_internal</a>(Ignored*, FILE* fp,</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                                <span class="keyword">const</span> <span class="keywordtype">void</span>* data, <span class="keywordtype">size_t</span> length) {</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  <span class="keywordflow">return</span> fwrite(data, length, 1, fp) == 1;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;}</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="comment">// ----- low-level I/O for iostream ----</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="comment">// We want the caller to be responsible for #including &lt;iostream&gt;, not</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="comment">// us, because iostream is a big header!  According to the standard,</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="comment">// it&#39;s only legal to delay the instantiation the way we want to if</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="comment">// the istream/ostream is a template type.  So we jump through hoops.</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> ISTREAM&gt;</div>
<div class="line"><a name="l00111"></a><span class="lineno"><a class="line" href="namespacesparsehash__internal.html#af9bec86a52ddcfe9cc178260083afcf1">  111</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="namespacesparsehash__internal.html#af9bec86a52ddcfe9cc178260083afcf1">read_data_internal_for_istream</a>(ISTREAM* fp,</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                                           <span class="keywordtype">void</span>* data, <span class="keywordtype">size_t</span> length) {</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <span class="keywordflow">return</span> fp-&gt;read(reinterpret_cast&lt;char*&gt;(data), length).good();</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;}</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> Ignored&gt;</div>
<div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="namespacesparsehash__internal.html#a49444f7914a892b2076073e3850b6b04">  116</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="namespacesparsehash__internal.html#affd716d2f4da7c5d82a9c6dcd562839f">read_data_internal</a>(Ignored*, std::istream* fp,</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                               <span class="keywordtype">void</span>* data, <span class="keywordtype">size_t</span> length) {</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacesparsehash__internal.html#af9bec86a52ddcfe9cc178260083afcf1">read_data_internal_for_istream</a>(fp, data, length);</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;}</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> OSTREAM&gt;</div>
<div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="namespacesparsehash__internal.html#a3904d6b3c8df00c3f7b0621c538b4ae7">  122</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="namespacesparsehash__internal.html#a3904d6b3c8df00c3f7b0621c538b4ae7">write_data_internal_for_ostream</a>(OSTREAM* fp,</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                                            <span class="keyword">const</span> <span class="keywordtype">void</span>* data, <span class="keywordtype">size_t</span> length) {</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <span class="keywordflow">return</span> fp-&gt;write(reinterpret_cast&lt;const char*&gt;(data), length).good();</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;}</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> Ignored&gt;</div>
<div class="line"><a name="l00127"></a><span class="lineno"><a class="line" href="namespacesparsehash__internal.html#a8b6dbc8c94ef8be1a8091ca56f214dc9">  127</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="namespacesparsehash__internal.html#ad97434f8480d5026f086a3dd138ffbc4">write_data_internal</a>(Ignored*, std::ostream* fp,</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;                                <span class="keyword">const</span> <span class="keywordtype">void</span>* data, <span class="keywordtype">size_t</span> length) {</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacesparsehash__internal.html#a3904d6b3c8df00c3f7b0621c538b4ae7">write_data_internal_for_ostream</a>(fp, data, length);</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;}</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="comment">// ----- low-level I/O for custom streams ----</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment">// The INPUT type needs to support a Read() method that takes a</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment">// buffer and a length and returns the number of bytes read.</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> INPUT&gt;</div>
<div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="namespacesparsehash__internal.html#a63d1e68aafc220e2ca29b830dffaa609">  137</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="namespacesparsehash__internal.html#affd716d2f4da7c5d82a9c6dcd562839f">read_data_internal</a>(INPUT* fp, <span class="keywordtype">void</span>*,</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                               <span class="keywordtype">void</span>* data, <span class="keywordtype">size_t</span> length) {</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(fp-&gt;Read(data, length)) == length;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;}</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment">// The OUTPUT type needs to support a Write() operation that takes</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment">// a buffer and a length and returns the number of bytes written.</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> OUTPUT&gt;</div>
<div class="line"><a name="l00145"></a><span class="lineno"><a class="line" href="namespacesparsehash__internal.html#a57d41f898e8be77afaa1cb1f4df2d6e1">  145</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="namespacesparsehash__internal.html#ad97434f8480d5026f086a3dd138ffbc4">write_data_internal</a>(OUTPUT* fp, <span class="keywordtype">void</span>*,</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                                <span class="keyword">const</span> <span class="keywordtype">void</span>* data, <span class="keywordtype">size_t</span> length) {</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(fp-&gt;Write(data, length)) == length;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;}</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="comment">// ----- low-level I/O: the public API ----</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> INPUT&gt;</div>
<div class="line"><a name="l00153"></a><span class="lineno"><a class="line" href="namespacesparsehash__internal.html#aa2c17527e91c5b5f3fa5078a34bd6760">  153</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="namespacesparsehash__internal.html#aa2c17527e91c5b5f3fa5078a34bd6760">read_data</a>(INPUT* fp, <span class="keywordtype">void</span>* data, <span class="keywordtype">size_t</span> length) {</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacesparsehash__internal.html#affd716d2f4da7c5d82a9c6dcd562839f">read_data_internal</a>(fp, fp, data, length);</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;}</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> OUTPUT&gt;</div>
<div class="line"><a name="l00158"></a><span class="lineno"><a class="line" href="namespacesparsehash__internal.html#a4f1d1842acf661fafc7fda15cf4c69f3">  158</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="namespacesparsehash__internal.html#a4f1d1842acf661fafc7fda15cf4c69f3">write_data</a>(OUTPUT* fp, <span class="keyword">const</span> <span class="keywordtype">void</span>* data, <span class="keywordtype">size_t</span> length) {</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacesparsehash__internal.html#ad97434f8480d5026f086a3dd138ffbc4">write_data_internal</a>(fp, fp, data, length);</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;}</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment">// Uses read_data() and write_data() to read/write an integer.</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment">// length is the number of bytes to read/write (which may differ</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment">// from sizeof(IntType), allowing us to save on a 32-bit system</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment">// and load on a 64-bit system).  Excess bytes are taken to be 0.</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="comment">// INPUT and OUTPUT must match legal inputs to read/write_data (above).</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> INPUT, <span class="keyword">typename</span> IntType&gt;</div>
<div class="line"><a name="l00168"></a><span class="lineno"><a class="line" href="namespacesparsehash__internal.html#a1d13e0ab0d61e41ad06b2d9133912454">  168</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacesparsehash__internal.html#a1d13e0ab0d61e41ad06b2d9133912454">read_bigendian_number</a>(INPUT* fp, IntType* value, <span class="keywordtype">size_t</span> length) {</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  *value = 0;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> byte;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <span class="comment">// We require IntType to be unsigned or else the shifting gets all screwy.</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  SPARSEHASH_COMPILE_ASSERT(static_cast&lt;IntType&gt;(-1) &gt; static_cast&lt;IntType&gt;(0),</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                            serializing_int_requires_an_unsigned_type);</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; length; ++i) {</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacesparsehash__internal.html#aa2c17527e91c5b5f3fa5078a34bd6760">read_data</a>(fp, &amp;byte, <span class="keyword">sizeof</span>(byte))) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    *value |= <span class="keyword">static_cast&lt;</span>IntType<span class="keyword">&gt;</span>(byte) &lt;&lt; ((length - 1 - i) * 8);</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  }</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;}</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> OUTPUT, <span class="keyword">typename</span> IntType&gt;</div>
<div class="line"><a name="l00182"></a><span class="lineno"><a class="line" href="namespacesparsehash__internal.html#af7652e8895e70f4933bc7247c63c0090">  182</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacesparsehash__internal.html#af7652e8895e70f4933bc7247c63c0090">write_bigendian_number</a>(OUTPUT* fp, IntType value, <span class="keywordtype">size_t</span> length) {</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> byte;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  <span class="comment">// We require IntType to be unsigned or else the shifting gets all screwy.</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  SPARSEHASH_COMPILE_ASSERT(static_cast&lt;IntType&gt;(-1) &gt; static_cast&lt;IntType&gt;(0),</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                            serializing_int_requires_an_unsigned_type);</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; length; ++i) {</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    byte = (<span class="keyword">sizeof</span>(value) &lt;= length-1 - i)</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        ? 0 : <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">char</span><span class="keyword">&gt;</span>((value &gt;&gt; ((length-1 - i) * 8)) &amp; 255);</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacesparsehash__internal.html#a4f1d1842acf661fafc7fda15cf4c69f3">write_data</a>(fp, &amp;byte, <span class="keyword">sizeof</span>(byte))) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  }</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;}</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment">// If your keys and values are simple enough, you can pass this</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment">// serializer to serialize()/unserialize().  &quot;Simple enough&quot; means</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment">// value_type is a POD type that contains no pointers.  Note,</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment">// however, we don&#39;t try to normalize endianness.</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment">// This is the type used for NopointerSerializer.</span></div>
<div class="line"><a name="l00200"></a><span class="lineno"><a class="line" href="structsparsehash__internal_1_1pod__serializer.html">  200</a></span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> value_type&gt; <span class="keyword">struct </span><a class="code" href="structsparsehash__internal_1_1pod__serializer.html">pod_serializer</a> {</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> INPUT&gt;</div>
<div class="line"><a name="l00202"></a><span class="lineno"><a class="line" href="structsparsehash__internal_1_1pod__serializer.html#adb904d4424b6b6c4e368819c5291081a">  202</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structsparsehash__internal_1_1pod__serializer.html#adb904d4424b6b6c4e368819c5291081a">operator()</a>(INPUT* fp, value_type* value)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacesparsehash__internal.html#aa2c17527e91c5b5f3fa5078a34bd6760">read_data</a>(fp, value, <span class="keyword">sizeof</span>(*value));</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  }</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> OUTPUT&gt;</div>
<div class="line"><a name="l00207"></a><span class="lineno"><a class="line" href="structsparsehash__internal_1_1pod__serializer.html#a39b6174d31cef95736e000e2fc126d21">  207</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structsparsehash__internal_1_1pod__serializer.html#a39b6174d31cef95736e000e2fc126d21">operator()</a>(OUTPUT* fp, <span class="keyword">const</span> value_type&amp; value)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacesparsehash__internal.html#a4f1d1842acf661fafc7fda15cf4c69f3">write_data</a>(fp, &amp;value, <span class="keyword">sizeof</span>(value));</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  }</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;};</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="comment">// Settings contains parameters for growing and shrinking the table.</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="comment">// It also packages zero-size functor (ie. hasher).</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="comment">// It does some munging of the hash value in cases where we think</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="comment">// (fear) the original hash function might not be very good.  In</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="comment">// particular, the default hash of pointers is the identity hash,</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="comment">// so probably all the low bits are 0.  We identify when we think</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="comment">// we&#39;re hashing a pointer, and chop off the low bits.  Note this</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="comment">// isn&#39;t perfect: even when the key is a pointer, we can&#39;t tell</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="comment">// for sure that the hash is the identity hash.  If it&#39;s not, this</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="comment">// is needless work (and possibly, though not likely, harmful).</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> Key, <span class="keyword">typename</span> HashFunc,</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;         <span class="keyword">typename</span> SizeType, <span class="keywordtype">int</span> HT_MIN_BUCKETS&gt;</div>
<div class="line"><a name="l00227"></a><span class="lineno"><a class="line" href="classsparsehash__internal_1_1sh__hashtable__settings.html">  227</a></span>&#160;<span class="keyword">class </span><a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html">sh_hashtable_settings</a> : <span class="keyword">public</span> HashFunc {</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00229"></a><span class="lineno"><a class="line" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a2b2777febb97123cbadc639058dda593">  229</a></span>&#160;  <span class="keyword">typedef</span> Key <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a2b2777febb97123cbadc639058dda593">key_type</a>;</div>
<div class="line"><a name="l00230"></a><span class="lineno"><a class="line" href="classsparsehash__internal_1_1sh__hashtable__settings.html#aaefd61d9704d8ee8db462614e38f0f88">  230</a></span>&#160;  <span class="keyword">typedef</span> HashFunc <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#aaefd61d9704d8ee8db462614e38f0f88">hasher</a>;</div>
<div class="line"><a name="l00231"></a><span class="lineno"><a class="line" href="classsparsehash__internal_1_1sh__hashtable__settings.html#aff25e4cce4f27b950f8236f84420ff3c">  231</a></span>&#160;  <span class="keyword">typedef</span> SizeType <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#aff25e4cce4f27b950f8236f84420ff3c">size_type</a>;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00234"></a><span class="lineno"><a class="line" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a6ddd701b44caa62cc95937b716bfab88">  234</a></span>&#160;  <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a6ddd701b44caa62cc95937b716bfab88">sh_hashtable_settings</a>(<span class="keyword">const</span> <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#aaefd61d9704d8ee8db462614e38f0f88">hasher</a>&amp; hf,</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">float</span> ht_occupancy_flt,</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">float</span> ht_empty_flt)</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;      : <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#aaefd61d9704d8ee8db462614e38f0f88">hasher</a>(hf),</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#af2aa5b2fc43caf6857700cfb4dd2af52">enlarge_threshold_</a>(0),</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a04a02648c7b1c18830efe897611e3126">shrink_threshold_</a>(0),</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a7cd937fb21f5d83a7d08bc0b2b81deaf">consider_shrink_</a>(false),</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a0690751064173269b9f409be59bd57a2">use_empty_</a>(false),</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a4a1866b26ce0de33ffd5876ee0e059f0">use_deleted_</a>(false),</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a3a47c3eb29293c60cb977756ec32d7ff">num_ht_copies_</a>(0) {</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a7cc36491bcbf7659dd46093047a8fa64">set_enlarge_factor</a>(ht_occupancy_flt);</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a078b089146ac73bded03fc47da4fdf20">set_shrink_factor</a>(ht_empty_flt);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  }</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;</div>
<div class="line"><a name="l00248"></a><span class="lineno"><a class="line" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a5997386743853c309f0174b82e547f99">  248</a></span>&#160;  <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#aff25e4cce4f27b950f8236f84420ff3c">size_type</a> <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a5997386743853c309f0174b82e547f99">hash</a>(<span class="keyword">const</span> <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a2b2777febb97123cbadc639058dda593">key_type</a>&amp; v)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="comment">// We munge the hash value when we don&#39;t trust hasher::operator().</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings_1_1hash__munger.html#adac2e8db94f153333f21d6a857776d20">hash_munger&lt;Key&gt;::MungedHash</a>(hasher::operator()(v));</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  }</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;</div>
<div class="line"><a name="l00253"></a><span class="lineno"><a class="line" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a966514e2479c3e75ae870ecb7252bbd0">  253</a></span>&#160;  <span class="keywordtype">float</span> <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a966514e2479c3e75ae870ecb7252bbd0">enlarge_factor</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a98330d16c9d7e4564bda5705eed046f5">enlarge_factor_</a>;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  }</div>
<div class="line"><a name="l00256"></a><span class="lineno"><a class="line" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a7cc36491bcbf7659dd46093047a8fa64">  256</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a7cc36491bcbf7659dd46093047a8fa64">set_enlarge_factor</a>(<span class="keywordtype">float</span> f) {</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a98330d16c9d7e4564bda5705eed046f5">enlarge_factor_</a> = f;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  }</div>
<div class="line"><a name="l00259"></a><span class="lineno"><a class="line" href="classsparsehash__internal_1_1sh__hashtable__settings.html#aebd62a30f30794780358e0b19c7fff3e">  259</a></span>&#160;  <span class="keywordtype">float</span> <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#aebd62a30f30794780358e0b19c7fff3e">shrink_factor</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a943efed13842cfa7a639ed267595b8d5">shrink_factor_</a>;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  }</div>
<div class="line"><a name="l00262"></a><span class="lineno"><a class="line" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a078b089146ac73bded03fc47da4fdf20">  262</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a078b089146ac73bded03fc47da4fdf20">set_shrink_factor</a>(<span class="keywordtype">float</span> f) {</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a943efed13842cfa7a639ed267595b8d5">shrink_factor_</a> = f;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  }</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;</div>
<div class="line"><a name="l00266"></a><span class="lineno"><a class="line" href="classsparsehash__internal_1_1sh__hashtable__settings.html#acab61b5f877cc9d0dac2511127174c9f">  266</a></span>&#160;  <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#aff25e4cce4f27b950f8236f84420ff3c">size_type</a> <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#acab61b5f877cc9d0dac2511127174c9f">enlarge_threshold</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#af2aa5b2fc43caf6857700cfb4dd2af52">enlarge_threshold_</a>;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  }</div>
<div class="line"><a name="l00269"></a><span class="lineno"><a class="line" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a9811aa00f5bc097ddce13f56b1478bd1">  269</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a9811aa00f5bc097ddce13f56b1478bd1">set_enlarge_threshold</a>(<a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#aff25e4cce4f27b950f8236f84420ff3c">size_type</a> t) {</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#af2aa5b2fc43caf6857700cfb4dd2af52">enlarge_threshold_</a> = t;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  }</div>
<div class="line"><a name="l00272"></a><span class="lineno"><a class="line" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a80f76bd8b6c5fd6757df5e76f5fd1b0d">  272</a></span>&#160;  <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#aff25e4cce4f27b950f8236f84420ff3c">size_type</a> <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a80f76bd8b6c5fd6757df5e76f5fd1b0d">shrink_threshold</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a04a02648c7b1c18830efe897611e3126">shrink_threshold_</a>;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  }</div>
<div class="line"><a name="l00275"></a><span class="lineno"><a class="line" href="classsparsehash__internal_1_1sh__hashtable__settings.html#ac584854fd3724c98d03c61a351f7db02">  275</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#ac584854fd3724c98d03c61a351f7db02">set_shrink_threshold</a>(<a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#aff25e4cce4f27b950f8236f84420ff3c">size_type</a> t) {</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a04a02648c7b1c18830efe897611e3126">shrink_threshold_</a> = t;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  }</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;</div>
<div class="line"><a name="l00279"></a><span class="lineno"><a class="line" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a7e11568b294bf240b2878b971b74ab35">  279</a></span>&#160;  <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#aff25e4cce4f27b950f8236f84420ff3c">size_type</a> <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a7e11568b294bf240b2878b971b74ab35">enlarge_size</a>(<a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#aff25e4cce4f27b950f8236f84420ff3c">size_type</a> <a class="code" href="namespacenest_1_1names.html#a351824b0b77219f5761c0bfa05d7c523">x</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#aff25e4cce4f27b950f8236f84420ff3c">size_type</a><span class="keyword">&gt;</span>(x * <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a98330d16c9d7e4564bda5705eed046f5">enlarge_factor_</a>);</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  }</div>
<div class="line"><a name="l00282"></a><span class="lineno"><a class="line" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a033fb9311a7fa857b1240a57de05c69b">  282</a></span>&#160;  <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#aff25e4cce4f27b950f8236f84420ff3c">size_type</a> <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a033fb9311a7fa857b1240a57de05c69b">shrink_size</a>(<a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#aff25e4cce4f27b950f8236f84420ff3c">size_type</a> <a class="code" href="namespacenest_1_1names.html#a351824b0b77219f5761c0bfa05d7c523">x</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#aff25e4cce4f27b950f8236f84420ff3c">size_type</a><span class="keyword">&gt;</span>(x * <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a943efed13842cfa7a639ed267595b8d5">shrink_factor_</a>);</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  }</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;</div>
<div class="line"><a name="l00286"></a><span class="lineno"><a class="line" href="classsparsehash__internal_1_1sh__hashtable__settings.html#aa8ba764cc7d4dc51a52c1dbee9905450">  286</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#aa8ba764cc7d4dc51a52c1dbee9905450">consider_shrink</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a7cd937fb21f5d83a7d08bc0b2b81deaf">consider_shrink_</a>;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  }</div>
<div class="line"><a name="l00289"></a><span class="lineno"><a class="line" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a8bd2441210dfcc806f2f5855ac80b949">  289</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a8bd2441210dfcc806f2f5855ac80b949">set_consider_shrink</a>(<span class="keywordtype">bool</span> t) {</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a7cd937fb21f5d83a7d08bc0b2b81deaf">consider_shrink_</a> = t;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  }</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;</div>
<div class="line"><a name="l00293"></a><span class="lineno"><a class="line" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a56992502ff31ed8464696eb374beaf23">  293</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a56992502ff31ed8464696eb374beaf23">use_empty</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a0690751064173269b9f409be59bd57a2">use_empty_</a>;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  }</div>
<div class="line"><a name="l00296"></a><span class="lineno"><a class="line" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a6bfefe929fe8d1eed76b9c18ea76d1be">  296</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a6bfefe929fe8d1eed76b9c18ea76d1be">set_use_empty</a>(<span class="keywordtype">bool</span> t) {</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a0690751064173269b9f409be59bd57a2">use_empty_</a> = t;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  }</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;</div>
<div class="line"><a name="l00300"></a><span class="lineno"><a class="line" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a5992f4175c30854bc656c791ebc78f98">  300</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a5992f4175c30854bc656c791ebc78f98">use_deleted</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a4a1866b26ce0de33ffd5876ee0e059f0">use_deleted_</a>;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  }</div>
<div class="line"><a name="l00303"></a><span class="lineno"><a class="line" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a21d9bb6eaf7c3d9874dc1447c19b1b74">  303</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a21d9bb6eaf7c3d9874dc1447c19b1b74">set_use_deleted</a>(<span class="keywordtype">bool</span> t) {</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a4a1866b26ce0de33ffd5876ee0e059f0">use_deleted_</a> = t;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  }</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div>
<div class="line"><a name="l00307"></a><span class="lineno"><a class="line" href="classsparsehash__internal_1_1sh__hashtable__settings.html#aa4fdcdbc94fc7295a4a17a3db7addac2">  307</a></span>&#160;  <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#aff25e4cce4f27b950f8236f84420ff3c">size_type</a> <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#aa4fdcdbc94fc7295a4a17a3db7addac2">num_ht_copies</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#aff25e4cce4f27b950f8236f84420ff3c">size_type</a><span class="keyword">&gt;</span>(<a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a3a47c3eb29293c60cb977756ec32d7ff">num_ht_copies_</a>);</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  }</div>
<div class="line"><a name="l00310"></a><span class="lineno"><a class="line" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a09493cf5b583bb01944e83f646f19153">  310</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a09493cf5b583bb01944e83f646f19153">inc_num_ht_copies</a>() {</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    ++<a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a3a47c3eb29293c60cb977756ec32d7ff">num_ht_copies_</a>;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  }</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  <span class="comment">// Reset the enlarge and shrink thresholds</span></div>
<div class="line"><a name="l00315"></a><span class="lineno"><a class="line" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a71c3797b9a185603f70e953c25e56045">  315</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a71c3797b9a185603f70e953c25e56045">reset_thresholds</a>(<a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#aff25e4cce4f27b950f8236f84420ff3c">size_type</a> num_buckets) {</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a9811aa00f5bc097ddce13f56b1478bd1">set_enlarge_threshold</a>(<a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a7e11568b294bf240b2878b971b74ab35">enlarge_size</a>(num_buckets));</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#ac584854fd3724c98d03c61a351f7db02">set_shrink_threshold</a>(<a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a033fb9311a7fa857b1240a57de05c69b">shrink_size</a>(num_buckets));</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="comment">// whatever caused us to reset already considered</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a8bd2441210dfcc806f2f5855ac80b949">set_consider_shrink</a>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  }</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  <span class="comment">// Caller is resposible for calling reset_threshold right after</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  <span class="comment">// set_resizing_parameters.</span></div>
<div class="line"><a name="l00324"></a><span class="lineno"><a class="line" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a0c3a8860f5397758479118ca9fec4403">  324</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a0c3a8860f5397758479118ca9fec4403">set_resizing_parameters</a>(<span class="keywordtype">float</span> shrink, <span class="keywordtype">float</span> grow) {</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <a class="code" href="neststartup_8cpp.html#ae30233134dff5ec4ec526077406f36d1">assert</a>(shrink &gt;= 0.0);</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <a class="code" href="neststartup_8cpp.html#ae30233134dff5ec4ec526077406f36d1">assert</a>(grow &lt;= 1.0);</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <span class="keywordflow">if</span> (shrink &gt; grow/2.0f)</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;      shrink = grow / 2.0f;     <span class="comment">// otherwise we thrash hashtable size</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a078b089146ac73bded03fc47da4fdf20">set_shrink_factor</a>(shrink);</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a7cc36491bcbf7659dd46093047a8fa64">set_enlarge_factor</a>(grow);</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  }</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  <span class="comment">// This is the smallest size a hashtable can be without being too crowded</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  <span class="comment">// If you like, you can give a min #buckets as well as a min #elts</span></div>
<div class="line"><a name="l00335"></a><span class="lineno"><a class="line" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a8ba929103f53b435f229e2e2b47418aa">  335</a></span>&#160;  <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#aff25e4cce4f27b950f8236f84420ff3c">size_type</a> <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a8ba929103f53b435f229e2e2b47418aa">min_buckets</a>(<a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#aff25e4cce4f27b950f8236f84420ff3c">size_type</a> num_elts, <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#aff25e4cce4f27b950f8236f84420ff3c">size_type</a> min_buckets_wanted) {</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="keywordtype">float</span> enlarge = <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a966514e2479c3e75ae870ecb7252bbd0">enlarge_factor</a>();</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#aff25e4cce4f27b950f8236f84420ff3c">size_type</a> sz = HT_MIN_BUCKETS;             <span class="comment">// min buckets allowed</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <span class="keywordflow">while</span> ( sz &lt; min_buckets_wanted ||</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;            num_elts &gt;= static_cast&lt;size_type&gt;(sz * enlarge) ) {</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;      <span class="comment">// This just prevents overflowing size_type, since sz can exceed</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;      <span class="comment">// max_size() here.</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;      <span class="keywordflow">if</span> (static_cast&lt;size_type&gt;(sz * 2) &lt; sz) {</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        <span class="keywordflow">throw</span> std::length_error(<span class="stringliteral">&quot;resize overflow&quot;</span>);  <span class="comment">// protect against overflow</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;      }</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;      sz *= 2;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    }</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <span class="keywordflow">return</span> sz;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  }</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00351"></a><span class="lineno"><a class="line" href="classsparsehash__internal_1_1sh__hashtable__settings_1_1hash__munger.html">  351</a></span>&#160;  <span class="keyword">template</span>&lt;<span class="keyword">class</span> HashKey&gt; <span class="keyword">class </span><a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings_1_1hash__munger.html">hash_munger</a> {</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;   <span class="keyword">public</span>:</div>
<div class="line"><a name="l00353"></a><span class="lineno"><a class="line" href="classsparsehash__internal_1_1sh__hashtable__settings_1_1hash__munger.html#adac2e8db94f153333f21d6a857776d20">  353</a></span>&#160;    <span class="keyword">static</span> <span class="keywordtype">size_t</span> <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings_1_1hash__munger.html#adac2e8db94f153333f21d6a857776d20">MungedHash</a>(<span class="keywordtype">size_t</span> <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a5997386743853c309f0174b82e547f99">hash</a>) {</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a5997386743853c309f0174b82e547f99">hash</a>;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    }</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  };</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  <span class="comment">// This matches when the hashtable key is a pointer.</span></div>
<div class="line"><a name="l00358"></a><span class="lineno"><a class="line" href="classsparsehash__internal_1_1sh__hashtable__settings_1_1hash__munger_3_01HashKey_01_5_01_4.html">  358</a></span>&#160;  <span class="keyword">template</span>&lt;<span class="keyword">class</span> HashKey&gt; <span class="keyword">class </span><a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings_1_1hash__munger.html">hash_munger</a>&lt;HashKey*&gt; {</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;   <span class="keyword">public</span>:</div>
<div class="line"><a name="l00360"></a><span class="lineno"><a class="line" href="classsparsehash__internal_1_1sh__hashtable__settings_1_1hash__munger_3_01HashKey_01_5_01_4.html#abe2af7ee26c6b5c15f13330c05e27df8">  360</a></span>&#160;    <span class="keyword">static</span> <span class="keywordtype">size_t</span> <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings_1_1hash__munger_3_01HashKey_01_5_01_4.html#abe2af7ee26c6b5c15f13330c05e27df8">MungedHash</a>(<span class="keywordtype">size_t</span> <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a5997386743853c309f0174b82e547f99">hash</a>) {</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;      <span class="comment">// TODO(csilvers): consider rotating instead:</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;      <span class="comment">//    static const int shift = (sizeof(void *) == 4) ? 2 : 3;</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;      <span class="comment">//    return (hash &lt;&lt; (sizeof(hash) * 8) - shift)) | (hash &gt;&gt; shift);</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;      <span class="comment">// This matters if we ever change sparse/dense_hash_* to compare</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;      <span class="comment">// hashes before comparing actual values.  It&#39;s speedy on x86.</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;      <span class="keywordflow">return</span> hash / <span class="keyword">sizeof</span>(<span class="keywordtype">void</span>*);   <span class="comment">// get rid of known-0 bits</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    }</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  };</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;</div>
<div class="line"><a name="l00370"></a><span class="lineno"><a class="line" href="classsparsehash__internal_1_1sh__hashtable__settings.html#af2aa5b2fc43caf6857700cfb4dd2af52">  370</a></span>&#160;  <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#aff25e4cce4f27b950f8236f84420ff3c">size_type</a> <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#af2aa5b2fc43caf6857700cfb4dd2af52">enlarge_threshold_</a>;  <span class="comment">// table.size() * enlarge_factor</span></div>
<div class="line"><a name="l00371"></a><span class="lineno"><a class="line" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a04a02648c7b1c18830efe897611e3126">  371</a></span>&#160;  <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#aff25e4cce4f27b950f8236f84420ff3c">size_type</a> <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a04a02648c7b1c18830efe897611e3126">shrink_threshold_</a>;   <span class="comment">// table.size() * shrink_factor</span></div>
<div class="line"><a name="l00372"></a><span class="lineno"><a class="line" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a98330d16c9d7e4564bda5705eed046f5">  372</a></span>&#160;  <span class="keywordtype">float</span> <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a98330d16c9d7e4564bda5705eed046f5">enlarge_factor_</a>;         <span class="comment">// how full before resize</span></div>
<div class="line"><a name="l00373"></a><span class="lineno"><a class="line" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a943efed13842cfa7a639ed267595b8d5">  373</a></span>&#160;  <span class="keywordtype">float</span> <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a943efed13842cfa7a639ed267595b8d5">shrink_factor_</a>;          <span class="comment">// how empty before resize</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  <span class="comment">// consider_shrink=true if we should try to shrink before next insert</span></div>
<div class="line"><a name="l00375"></a><span class="lineno"><a class="line" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a7cd937fb21f5d83a7d08bc0b2b81deaf">  375</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a7cd937fb21f5d83a7d08bc0b2b81deaf">consider_shrink_</a>;</div>
<div class="line"><a name="l00376"></a><span class="lineno"><a class="line" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a0690751064173269b9f409be59bd57a2">  376</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a0690751064173269b9f409be59bd57a2">use_empty_</a>;    <span class="comment">// used only by densehashtable, not sparsehashtable</span></div>
<div class="line"><a name="l00377"></a><span class="lineno"><a class="line" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a4a1866b26ce0de33ffd5876ee0e059f0">  377</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a4a1866b26ce0de33ffd5876ee0e059f0">use_deleted_</a>;  <span class="comment">// false until delkey has been set</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  <span class="comment">// num_ht_copies is a counter incremented every Copy/Move</span></div>
<div class="line"><a name="l00379"></a><span class="lineno"><a class="line" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a3a47c3eb29293c60cb977756ec32d7ff">  379</a></span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classsparsehash__internal_1_1sh__hashtable__settings.html#a3a47c3eb29293c60cb977756ec32d7ff">num_ht_copies_</a>;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;};</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;}  <span class="comment">// namespace sparsehash_internal</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<span class="preprocessor">#undef SPARSEHASH_COMPILE_ASSERT</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;_END_GOOGLE_NAMESPACE_</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;<span class="preprocessor">#endif  // UTIL_GTL_HASHTABLE_COMMON_H_</span></div>
<div class="ttc" id="namespacesparsehash__internal_html_a4f1d1842acf661fafc7fda15cf4c69f3"><div class="ttname"><a href="namespacesparsehash__internal.html#a4f1d1842acf661fafc7fda15cf4c69f3">sparsehash_internal::write_data</a></div><div class="ttdeci">bool write_data(OUTPUT *fp, const void *data, size_t length)</div><div class="ttdef"><b>Definition:</b> hashtable-common.h:158</div></div>
<div class="ttc" id="classsparsehash__internal_1_1sh__hashtable__settings_html_a21d9bb6eaf7c3d9874dc1447c19b1b74"><div class="ttname"><a href="classsparsehash__internal_1_1sh__hashtable__settings.html#a21d9bb6eaf7c3d9874dc1447c19b1b74">sparsehash_internal::sh_hashtable_settings::set_use_deleted</a></div><div class="ttdeci">void set_use_deleted(bool t)</div><div class="ttdef"><b>Definition:</b> hashtable-common.h:303</div></div>
<div class="ttc" id="classsparsehash__internal_1_1sh__hashtable__settings_html_a7e11568b294bf240b2878b971b74ab35"><div class="ttname"><a href="classsparsehash__internal_1_1sh__hashtable__settings.html#a7e11568b294bf240b2878b971b74ab35">sparsehash_internal::sh_hashtable_settings::enlarge_size</a></div><div class="ttdeci">size_type enlarge_size(size_type x) const </div><div class="ttdef"><b>Definition:</b> hashtable-common.h:279</div></div>
<div class="ttc" id="sparseconfig_8h_html"><div class="ttname"><a href="sparseconfig_8h.html">sparseconfig.h</a></div></div>
<div class="ttc" id="classsparsehash__internal_1_1sh__hashtable__settings_html_aebd62a30f30794780358e0b19c7fff3e"><div class="ttname"><a href="classsparsehash__internal_1_1sh__hashtable__settings.html#aebd62a30f30794780358e0b19c7fff3e">sparsehash_internal::sh_hashtable_settings::shrink_factor</a></div><div class="ttdeci">float shrink_factor() const </div><div class="ttdef"><b>Definition:</b> hashtable-common.h:259</div></div>
<div class="ttc" id="structsparsehash__internal_1_1pod__serializer_html"><div class="ttname"><a href="structsparsehash__internal_1_1pod__serializer.html">sparsehash_internal::pod_serializer</a></div><div class="ttdef"><b>Definition:</b> hashtable-common.h:200</div></div>
<div class="ttc" id="classsparsehash__internal_1_1sh__hashtable__settings_html_a6bfefe929fe8d1eed76b9c18ea76d1be"><div class="ttname"><a href="classsparsehash__internal_1_1sh__hashtable__settings.html#a6bfefe929fe8d1eed76b9c18ea76d1be">sparsehash_internal::sh_hashtable_settings::set_use_empty</a></div><div class="ttdeci">void set_use_empty(bool t)</div><div class="ttdef"><b>Definition:</b> hashtable-common.h:296</div></div>
<div class="ttc" id="namespacesparsehash__internal_html_aa2c17527e91c5b5f3fa5078a34bd6760"><div class="ttname"><a href="namespacesparsehash__internal.html#aa2c17527e91c5b5f3fa5078a34bd6760">sparsehash_internal::read_data</a></div><div class="ttdeci">bool read_data(INPUT *fp, void *data, size_t length)</div><div class="ttdef"><b>Definition:</b> hashtable-common.h:153</div></div>
<div class="ttc" id="classsparsehash__internal_1_1sh__hashtable__settings_html_a9811aa00f5bc097ddce13f56b1478bd1"><div class="ttname"><a href="classsparsehash__internal_1_1sh__hashtable__settings.html#a9811aa00f5bc097ddce13f56b1478bd1">sparsehash_internal::sh_hashtable_settings::set_enlarge_threshold</a></div><div class="ttdeci">void set_enlarge_threshold(size_type t)</div><div class="ttdef"><b>Definition:</b> hashtable-common.h:269</div></div>
<div class="ttc" id="classsparsehash__internal_1_1sh__hashtable__settings_html_aa8ba764cc7d4dc51a52c1dbee9905450"><div class="ttname"><a href="classsparsehash__internal_1_1sh__hashtable__settings.html#aa8ba764cc7d4dc51a52c1dbee9905450">sparsehash_internal::sh_hashtable_settings::consider_shrink</a></div><div class="ttdeci">bool consider_shrink() const </div><div class="ttdef"><b>Definition:</b> hashtable-common.h:286</div></div>
<div class="ttc" id="namespacesparsehash__internal_html_a3904d6b3c8df00c3f7b0621c538b4ae7"><div class="ttname"><a href="namespacesparsehash__internal.html#a3904d6b3c8df00c3f7b0621c538b4ae7">sparsehash_internal::write_data_internal_for_ostream</a></div><div class="ttdeci">bool write_data_internal_for_ostream(OSTREAM *fp, const void *data, size_t length)</div><div class="ttdef"><b>Definition:</b> hashtable-common.h:122</div></div>
<div class="ttc" id="classsparsehash__internal_1_1sh__hashtable__settings_html_a71c3797b9a185603f70e953c25e56045"><div class="ttname"><a href="classsparsehash__internal_1_1sh__hashtable__settings.html#a71c3797b9a185603f70e953c25e56045">sparsehash_internal::sh_hashtable_settings::reset_thresholds</a></div><div class="ttdeci">void reset_thresholds(size_type num_buckets)</div><div class="ttdef"><b>Definition:</b> hashtable-common.h:315</div></div>
<div class="ttc" id="classsparsehash__internal_1_1sh__hashtable__settings_1_1hash__munger_html_adac2e8db94f153333f21d6a857776d20"><div class="ttname"><a href="classsparsehash__internal_1_1sh__hashtable__settings_1_1hash__munger.html#adac2e8db94f153333f21d6a857776d20">sparsehash_internal::sh_hashtable_settings::hash_munger::MungedHash</a></div><div class="ttdeci">static size_t MungedHash(size_t hash)</div><div class="ttdef"><b>Definition:</b> hashtable-common.h:353</div></div>
<div class="ttc" id="classsparsehash__internal_1_1sh__hashtable__settings_html_a56992502ff31ed8464696eb374beaf23"><div class="ttname"><a href="classsparsehash__internal_1_1sh__hashtable__settings.html#a56992502ff31ed8464696eb374beaf23">sparsehash_internal::sh_hashtable_settings::use_empty</a></div><div class="ttdeci">bool use_empty() const </div><div class="ttdef"><b>Definition:</b> hashtable-common.h:293</div></div>
<div class="ttc" id="classsparsehash__internal_1_1sh__hashtable__settings_html_a04a02648c7b1c18830efe897611e3126"><div class="ttname"><a href="classsparsehash__internal_1_1sh__hashtable__settings.html#a04a02648c7b1c18830efe897611e3126">sparsehash_internal::sh_hashtable_settings::shrink_threshold_</a></div><div class="ttdeci">size_type shrink_threshold_</div><div class="ttdef"><b>Definition:</b> hashtable-common.h:371</div></div>
<div class="ttc" id="classsparsehash__internal_1_1sh__hashtable__settings_html_a80f76bd8b6c5fd6757df5e76f5fd1b0d"><div class="ttname"><a href="classsparsehash__internal_1_1sh__hashtable__settings.html#a80f76bd8b6c5fd6757df5e76f5fd1b0d">sparsehash_internal::sh_hashtable_settings::shrink_threshold</a></div><div class="ttdeci">size_type shrink_threshold() const </div><div class="ttdef"><b>Definition:</b> hashtable-common.h:272</div></div>
<div class="ttc" id="neststartup_8cpp_html_ae30233134dff5ec4ec526077406f36d1"><div class="ttname"><a href="neststartup_8cpp.html#ae30233134dff5ec4ec526077406f36d1">assert</a></div><div class="ttdeci">assert(pNet!=0)</div></div>
<div class="ttc" id="classsparsehash__internal_1_1sh__hashtable__settings_html_a0c3a8860f5397758479118ca9fec4403"><div class="ttname"><a href="classsparsehash__internal_1_1sh__hashtable__settings.html#a0c3a8860f5397758479118ca9fec4403">sparsehash_internal::sh_hashtable_settings::set_resizing_parameters</a></div><div class="ttdeci">void set_resizing_parameters(float shrink, float grow)</div><div class="ttdef"><b>Definition:</b> hashtable-common.h:324</div></div>
<div class="ttc" id="classsparsehash__internal_1_1sh__hashtable__settings_html_a943efed13842cfa7a639ed267595b8d5"><div class="ttname"><a href="classsparsehash__internal_1_1sh__hashtable__settings.html#a943efed13842cfa7a639ed267595b8d5">sparsehash_internal::sh_hashtable_settings::shrink_factor_</a></div><div class="ttdeci">float shrink_factor_</div><div class="ttdef"><b>Definition:</b> hashtable-common.h:373</div></div>
<div class="ttc" id="classsparsehash__internal_1_1sh__hashtable__settings_html_a8ba929103f53b435f229e2e2b47418aa"><div class="ttname"><a href="classsparsehash__internal_1_1sh__hashtable__settings.html#a8ba929103f53b435f229e2e2b47418aa">sparsehash_internal::sh_hashtable_settings::min_buckets</a></div><div class="ttdeci">size_type min_buckets(size_type num_elts, size_type min_buckets_wanted)</div><div class="ttdef"><b>Definition:</b> hashtable-common.h:335</div></div>
<div class="ttc" id="namespacesparsehash__internal_html_ad97434f8480d5026f086a3dd138ffbc4"><div class="ttname"><a href="namespacesparsehash__internal.html#ad97434f8480d5026f086a3dd138ffbc4">sparsehash_internal::write_data_internal</a></div><div class="ttdeci">bool write_data_internal(Ignored *, FILE *fp, const void *data, size_t length)</div><div class="ttdef"><b>Definition:</b> hashtable-common.h:99</div></div>
<div class="ttc" id="classsparsehash__internal_1_1sh__hashtable__settings_html_a7cd937fb21f5d83a7d08bc0b2b81deaf"><div class="ttname"><a href="classsparsehash__internal_1_1sh__hashtable__settings.html#a7cd937fb21f5d83a7d08bc0b2b81deaf">sparsehash_internal::sh_hashtable_settings::consider_shrink_</a></div><div class="ttdeci">bool consider_shrink_</div><div class="ttdef"><b>Definition:</b> hashtable-common.h:375</div></div>
<div class="ttc" id="classsparsehash__internal_1_1sh__hashtable__settings_html_aa4fdcdbc94fc7295a4a17a3db7addac2"><div class="ttname"><a href="classsparsehash__internal_1_1sh__hashtable__settings.html#aa4fdcdbc94fc7295a4a17a3db7addac2">sparsehash_internal::sh_hashtable_settings::num_ht_copies</a></div><div class="ttdeci">size_type num_ht_copies() const </div><div class="ttdef"><b>Definition:</b> hashtable-common.h:307</div></div>
<div class="ttc" id="namespacesparsehash__internal_html_af7652e8895e70f4933bc7247c63c0090"><div class="ttname"><a href="namespacesparsehash__internal.html#af7652e8895e70f4933bc7247c63c0090">sparsehash_internal::write_bigendian_number</a></div><div class="ttdeci">bool write_bigendian_number(OUTPUT *fp, IntType value, size_t length)</div><div class="ttdef"><b>Definition:</b> hashtable-common.h:182</div></div>
<div class="ttc" id="classsparsehash__internal_1_1sh__hashtable__settings_html_a5992f4175c30854bc656c791ebc78f98"><div class="ttname"><a href="classsparsehash__internal_1_1sh__hashtable__settings.html#a5992f4175c30854bc656c791ebc78f98">sparsehash_internal::sh_hashtable_settings::use_deleted</a></div><div class="ttdeci">bool use_deleted() const </div><div class="ttdef"><b>Definition:</b> hashtable-common.h:300</div></div>
<div class="ttc" id="classsparsehash__internal_1_1sh__hashtable__settings_html_a6ddd701b44caa62cc95937b716bfab88"><div class="ttname"><a href="classsparsehash__internal_1_1sh__hashtable__settings.html#a6ddd701b44caa62cc95937b716bfab88">sparsehash_internal::sh_hashtable_settings::sh_hashtable_settings</a></div><div class="ttdeci">sh_hashtable_settings(const hasher &amp;hf, const float ht_occupancy_flt, const float ht_empty_flt)</div><div class="ttdef"><b>Definition:</b> hashtable-common.h:234</div></div>
<div class="ttc" id="classsparsehash__internal_1_1sh__hashtable__settings_html_a98330d16c9d7e4564bda5705eed046f5"><div class="ttname"><a href="classsparsehash__internal_1_1sh__hashtable__settings.html#a98330d16c9d7e4564bda5705eed046f5">sparsehash_internal::sh_hashtable_settings::enlarge_factor_</a></div><div class="ttdeci">float enlarge_factor_</div><div class="ttdef"><b>Definition:</b> hashtable-common.h:372</div></div>
<div class="ttc" id="classsparsehash__internal_1_1sh__hashtable__settings_html_a7cc36491bcbf7659dd46093047a8fa64"><div class="ttname"><a href="classsparsehash__internal_1_1sh__hashtable__settings.html#a7cc36491bcbf7659dd46093047a8fa64">sparsehash_internal::sh_hashtable_settings::set_enlarge_factor</a></div><div class="ttdeci">void set_enlarge_factor(float f)</div><div class="ttdef"><b>Definition:</b> hashtable-common.h:256</div></div>
<div class="ttc" id="namespacesparsehash__internal_html_affd716d2f4da7c5d82a9c6dcd562839f"><div class="ttname"><a href="namespacesparsehash__internal.html#affd716d2f4da7c5d82a9c6dcd562839f">sparsehash_internal::read_data_internal</a></div><div class="ttdeci">bool read_data_internal(Ignored *, FILE *fp, void *data, size_t length)</div><div class="ttdef"><b>Definition:</b> hashtable-common.h:93</div></div>
<div class="ttc" id="classsparsehash__internal_1_1sh__hashtable__settings_html_a966514e2479c3e75ae870ecb7252bbd0"><div class="ttname"><a href="classsparsehash__internal_1_1sh__hashtable__settings.html#a966514e2479c3e75ae870ecb7252bbd0">sparsehash_internal::sh_hashtable_settings::enlarge_factor</a></div><div class="ttdeci">float enlarge_factor() const </div><div class="ttdef"><b>Definition:</b> hashtable-common.h:253</div></div>
<div class="ttc" id="structsparsehash__internal_1_1pod__serializer_html_a39b6174d31cef95736e000e2fc126d21"><div class="ttname"><a href="structsparsehash__internal_1_1pod__serializer.html#a39b6174d31cef95736e000e2fc126d21">sparsehash_internal::pod_serializer::operator()</a></div><div class="ttdeci">bool operator()(OUTPUT *fp, const value_type &amp;value) const </div><div class="ttdef"><b>Definition:</b> hashtable-common.h:207</div></div>
<div class="ttc" id="namespacenest_1_1names_html_a351824b0b77219f5761c0bfa05d7c523"><div class="ttname"><a href="namespacenest_1_1names.html#a351824b0b77219f5761c0bfa05d7c523">nest::names::x</a></div><div class="ttdeci">const Name x(&quot;x&quot;)</div><div class="ttdoc">current scaling factor of the synaptic weight [0...1] (Tsodyks2_connection) </div><div class="ttdef"><b>Definition:</b> nest_names.h:356</div></div>
<div class="ttc" id="classsparsehash__internal_1_1sh__hashtable__settings_html_a5997386743853c309f0174b82e547f99"><div class="ttname"><a href="classsparsehash__internal_1_1sh__hashtable__settings.html#a5997386743853c309f0174b82e547f99">sparsehash_internal::sh_hashtable_settings::hash</a></div><div class="ttdeci">size_type hash(const key_type &amp;v) const </div><div class="ttdef"><b>Definition:</b> hashtable-common.h:248</div></div>
<div class="ttc" id="classsparsehash__internal_1_1sh__hashtable__settings_1_1hash__munger_3_01HashKey_01_5_01_4_html_abe2af7ee26c6b5c15f13330c05e27df8"><div class="ttname"><a href="classsparsehash__internal_1_1sh__hashtable__settings_1_1hash__munger_3_01HashKey_01_5_01_4.html#abe2af7ee26c6b5c15f13330c05e27df8">sparsehash_internal::sh_hashtable_settings::hash_munger&lt; HashKey * &gt;::MungedHash</a></div><div class="ttdeci">static size_t MungedHash(size_t hash)</div><div class="ttdef"><b>Definition:</b> hashtable-common.h:360</div></div>
<div class="ttc" id="classsparsehash__internal_1_1sh__hashtable__settings_html_a2b2777febb97123cbadc639058dda593"><div class="ttname"><a href="classsparsehash__internal_1_1sh__hashtable__settings.html#a2b2777febb97123cbadc639058dda593">sparsehash_internal::sh_hashtable_settings::key_type</a></div><div class="ttdeci">Key key_type</div><div class="ttdef"><b>Definition:</b> hashtable-common.h:229</div></div>
<div class="ttc" id="classsparsehash__internal_1_1sh__hashtable__settings_html_a078b089146ac73bded03fc47da4fdf20"><div class="ttname"><a href="classsparsehash__internal_1_1sh__hashtable__settings.html#a078b089146ac73bded03fc47da4fdf20">sparsehash_internal::sh_hashtable_settings::set_shrink_factor</a></div><div class="ttdeci">void set_shrink_factor(float f)</div><div class="ttdef"><b>Definition:</b> hashtable-common.h:262</div></div>
<div class="ttc" id="namespacesparsehash__internal_html_a1d13e0ab0d61e41ad06b2d9133912454"><div class="ttname"><a href="namespacesparsehash__internal.html#a1d13e0ab0d61e41ad06b2d9133912454">sparsehash_internal::read_bigendian_number</a></div><div class="ttdeci">bool read_bigendian_number(INPUT *fp, IntType *value, size_t length)</div><div class="ttdef"><b>Definition:</b> hashtable-common.h:168</div></div>
<div class="ttc" id="classsparsehash__internal_1_1sh__hashtable__settings_html_aaefd61d9704d8ee8db462614e38f0f88"><div class="ttname"><a href="classsparsehash__internal_1_1sh__hashtable__settings.html#aaefd61d9704d8ee8db462614e38f0f88">sparsehash_internal::sh_hashtable_settings::hasher</a></div><div class="ttdeci">HashFunc hasher</div><div class="ttdef"><b>Definition:</b> hashtable-common.h:230</div></div>
<div class="ttc" id="classsparsehash__internal_1_1sh__hashtable__settings_html_a8bd2441210dfcc806f2f5855ac80b949"><div class="ttname"><a href="classsparsehash__internal_1_1sh__hashtable__settings.html#a8bd2441210dfcc806f2f5855ac80b949">sparsehash_internal::sh_hashtable_settings::set_consider_shrink</a></div><div class="ttdeci">void set_consider_shrink(bool t)</div><div class="ttdef"><b>Definition:</b> hashtable-common.h:289</div></div>
<div class="ttc" id="classsparsehash__internal_1_1sh__hashtable__settings_html_a033fb9311a7fa857b1240a57de05c69b"><div class="ttname"><a href="classsparsehash__internal_1_1sh__hashtable__settings.html#a033fb9311a7fa857b1240a57de05c69b">sparsehash_internal::sh_hashtable_settings::shrink_size</a></div><div class="ttdeci">size_type shrink_size(size_type x) const </div><div class="ttdef"><b>Definition:</b> hashtable-common.h:282</div></div>
<div class="ttc" id="classsparsehash__internal_1_1sh__hashtable__settings_html_a4a1866b26ce0de33ffd5876ee0e059f0"><div class="ttname"><a href="classsparsehash__internal_1_1sh__hashtable__settings.html#a4a1866b26ce0de33ffd5876ee0e059f0">sparsehash_internal::sh_hashtable_settings::use_deleted_</a></div><div class="ttdeci">bool use_deleted_</div><div class="ttdef"><b>Definition:</b> hashtable-common.h:377</div></div>
<div class="ttc" id="structsparsehash__internal_1_1pod__serializer_html_adb904d4424b6b6c4e368819c5291081a"><div class="ttname"><a href="structsparsehash__internal_1_1pod__serializer.html#adb904d4424b6b6c4e368819c5291081a">sparsehash_internal::pod_serializer::operator()</a></div><div class="ttdeci">bool operator()(INPUT *fp, value_type *value) const </div><div class="ttdef"><b>Definition:</b> hashtable-common.h:202</div></div>
<div class="ttc" id="classsparsehash__internal_1_1sh__hashtable__settings_html"><div class="ttname"><a href="classsparsehash__internal_1_1sh__hashtable__settings.html">sparsehash_internal::sh_hashtable_settings</a></div><div class="ttdef"><b>Definition:</b> hashtable-common.h:227</div></div>
<div class="ttc" id="classsparsehash__internal_1_1sh__hashtable__settings_html_af2aa5b2fc43caf6857700cfb4dd2af52"><div class="ttname"><a href="classsparsehash__internal_1_1sh__hashtable__settings.html#af2aa5b2fc43caf6857700cfb4dd2af52">sparsehash_internal::sh_hashtable_settings::enlarge_threshold_</a></div><div class="ttdeci">size_type enlarge_threshold_</div><div class="ttdef"><b>Definition:</b> hashtable-common.h:370</div></div>
<div class="ttc" id="classsparsehash__internal_1_1sh__hashtable__settings_html_ac584854fd3724c98d03c61a351f7db02"><div class="ttname"><a href="classsparsehash__internal_1_1sh__hashtable__settings.html#ac584854fd3724c98d03c61a351f7db02">sparsehash_internal::sh_hashtable_settings::set_shrink_threshold</a></div><div class="ttdeci">void set_shrink_threshold(size_type t)</div><div class="ttdef"><b>Definition:</b> hashtable-common.h:275</div></div>
<div class="ttc" id="namespacesparsehash__internal_html_af9bec86a52ddcfe9cc178260083afcf1"><div class="ttname"><a href="namespacesparsehash__internal.html#af9bec86a52ddcfe9cc178260083afcf1">sparsehash_internal::read_data_internal_for_istream</a></div><div class="ttdeci">bool read_data_internal_for_istream(ISTREAM *fp, void *data, size_t length)</div><div class="ttdef"><b>Definition:</b> hashtable-common.h:111</div></div>
<div class="ttc" id="structSparsehashCompileAssert_html"><div class="ttname"><a href="structSparsehashCompileAssert.html">SparsehashCompileAssert</a></div><div class="ttdef"><b>Definition:</b> hashtable-common.h:57</div></div>
<div class="ttc" id="classsparsehash__internal_1_1sh__hashtable__settings_html_acab61b5f877cc9d0dac2511127174c9f"><div class="ttname"><a href="classsparsehash__internal_1_1sh__hashtable__settings.html#acab61b5f877cc9d0dac2511127174c9f">sparsehash_internal::sh_hashtable_settings::enlarge_threshold</a></div><div class="ttdeci">size_type enlarge_threshold() const </div><div class="ttdef"><b>Definition:</b> hashtable-common.h:266</div></div>
<div class="ttc" id="classsparsehash__internal_1_1sh__hashtable__settings_1_1hash__munger_html"><div class="ttname"><a href="classsparsehash__internal_1_1sh__hashtable__settings_1_1hash__munger.html">sparsehash_internal::sh_hashtable_settings::hash_munger</a></div><div class="ttdef"><b>Definition:</b> hashtable-common.h:351</div></div>
<div class="ttc" id="classsparsehash__internal_1_1sh__hashtable__settings_html_a0690751064173269b9f409be59bd57a2"><div class="ttname"><a href="classsparsehash__internal_1_1sh__hashtable__settings.html#a0690751064173269b9f409be59bd57a2">sparsehash_internal::sh_hashtable_settings::use_empty_</a></div><div class="ttdeci">bool use_empty_</div><div class="ttdef"><b>Definition:</b> hashtable-common.h:376</div></div>
<div class="ttc" id="classsparsehash__internal_1_1sh__hashtable__settings_html_a3a47c3eb29293c60cb977756ec32d7ff"><div class="ttname"><a href="classsparsehash__internal_1_1sh__hashtable__settings.html#a3a47c3eb29293c60cb977756ec32d7ff">sparsehash_internal::sh_hashtable_settings::num_ht_copies_</a></div><div class="ttdeci">unsigned int num_ht_copies_</div><div class="ttdef"><b>Definition:</b> hashtable-common.h:379</div></div>
<div class="ttc" id="classsparsehash__internal_1_1sh__hashtable__settings_html_a09493cf5b583bb01944e83f646f19153"><div class="ttname"><a href="classsparsehash__internal_1_1sh__hashtable__settings.html#a09493cf5b583bb01944e83f646f19153">sparsehash_internal::sh_hashtable_settings::inc_num_ht_copies</a></div><div class="ttdeci">void inc_num_ht_copies()</div><div class="ttdef"><b>Definition:</b> hashtable-common.h:310</div></div>
<div class="ttc" id="classsparsehash__internal_1_1sh__hashtable__settings_html_aff25e4cce4f27b950f8236f84420ff3c"><div class="ttname"><a href="classsparsehash__internal_1_1sh__hashtable__settings.html#aff25e4cce4f27b950f8236f84420ff3c">sparsehash_internal::sh_hashtable_settings::size_type</a></div><div class="ttdeci">SizeType size_type</div><div class="ttdef"><b>Definition:</b> hashtable-common.h:231</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Mar 26 2015 08:02:25 for NEST by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.7
</small></address>
</body>
</html>
